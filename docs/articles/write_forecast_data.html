<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="harpIO">
<title>Writing forecast model data • harpIO</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Writing forecast model data">
<meta property="og:description" content="harpIO">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">harpIO</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/file_options.html">Options for file formats</a>
    <a class="dropdown-item" href="../articles/read_csv_obs.html">Read observations from CSV files</a>
    <a class="dropdown-item" href="../articles/read_raw_forecast.html">Reading forecast model data</a>
    <a class="dropdown-item" href="../articles/transformations.html">Transforming forecast model data</a>
    <a class="dropdown-item" href="../articles/write_forecast_data.html">Writing forecast model data</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/harphub/harpIO/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Writing forecast model data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/harphub/harpIO/blob/HEAD/vignettes/write_forecast_data.Rmd" class="external-link"><code>vignettes/write_forecast_data.Rmd</code></a></small>
      <div class="d-none name"><code>write_forecast_data.Rmd</code></div>
    </div>

    
    
<p>When transforming gridded data to point data, it is useful to save
the point data for future use so that access to the data is fast, and
the gridded data files do not have to be read in again. Furthermore, if
using vfld files, the IO overhead becomes very cumbersome for large data
sets. In harp, it is possible to save point data to <a href="https://sqlite.org/" class="external-link">SQLite</a> format, which is a portable
relational database format. This means that data can be selected and
filtered before reading them into memory. In harp, these files are
typically referred to as FCTABLE files as FCTABLE is part of the default
file template.</p>
<p>To save point data to SQLite format, simply add the
<code>output_file_opts</code> argument to <code><a href="../reference/read_forecast.html">read_forecast()</a></code>
and set the options using <code><a href="../reference/sqlite_opts.html">sqlite_opts()</a></code>. For most cases,
the only option that needs to be set is the path to where you want to
save the data. For the example, the data will be saved to
<code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>, which creates a temporary directory under
\tmp.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/harphub/harpIO" class="external-link">harpIO</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Loading required package: harpCore</span></span></code></pre>
<pre><code><span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'harpCore'</span></span></code></pre>
<pre><code><span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_forecast.html">read_forecast</a></span><span class="op">(</span></span>
<span>  dttm             <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/harpCore/man/seq_dttm.html" class="external-link">seq_dttm</a></span><span class="op">(</span><span class="fl">2019021700</span>, <span class="fl">2019021718</span>, <span class="st">"6h"</span><span class="op">)</span>,</span>
<span>  fcst_model       <span class="op">=</span> <span class="st">"MEPS_prod"</span>,</span>
<span>  parameter        <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lead_time        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  members          <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  file_path        <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"vfld"</span>, package <span class="op">=</span> <span class="st">"harpData"</span><span class="op">)</span>,</span>
<span>  file_template    <span class="op">=</span> <span class="st">"vfld_eps"</span>,</span>
<span>  output_file_opts <span class="op">=</span> <span class="fu"><a href="../reference/sqlite_opts.html">sqlite_opts</a></span><span class="op">(</span>path <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"FCTABLE"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Here, we have read in data from vfld files from the MEPS_prod
ensemble model for members 0 - 3 and lead times 0 - 12 every three
hours. For vfld files, setting <code>parameter = NULL</code> means that
all parameters will be read and written from the vfld files (note this
behaviour is only possible for vfld files). The data have been saved at
tempdir()/FCTABLE, using the default file template, “fctable”, which is
“{file_path}/{fcst_model}/{YYYY}/{MM}/FCTABLE_{parameter}<em>{YYYY}{MM}</em>{HH}.sqlite”,
where {file_path} is the path set in <code><a href="../reference/sqlite_opts.html">sqlite_opts()</a></code>.</p>
<p>You can see all the files that have been produced:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">dir</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"FCTABLE"</span>, <span class="st">"MEPS_prod"</span>, <span class="st">"2019"</span>, <span class="st">"02"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   [1] "FCTABLE_Cbase_201902_00.sqlite" "FCTABLE_Cbase_201902_06.sqlite"</span></span>
<span><span class="co">#&gt;   [3] "FCTABLE_Cbase_201902_12.sqlite" "FCTABLE_Cbase_201902_18.sqlite"</span></span>
<span><span class="co">#&gt;   [5] "FCTABLE_CClow_201902_00.sqlite" "FCTABLE_CClow_201902_06.sqlite"</span></span>
<span><span class="co">#&gt;   [7] "FCTABLE_CClow_201902_12.sqlite" "FCTABLE_CClow_201902_18.sqlite"</span></span>
<span><span class="co">#&gt;   [9] "FCTABLE_CCtot_201902_00.sqlite" "FCTABLE_CCtot_201902_06.sqlite"</span></span>
<span><span class="co">#&gt;  [11] "FCTABLE_CCtot_201902_12.sqlite" "FCTABLE_CCtot_201902_18.sqlite"</span></span>
<span><span class="co">#&gt;  [13] "FCTABLE_D_201902_00.sqlite"     "FCTABLE_D_201902_06.sqlite"    </span></span>
<span><span class="co">#&gt;  [15] "FCTABLE_D_201902_12.sqlite"     "FCTABLE_D_201902_18.sqlite"    </span></span>
<span><span class="co">#&gt;  [17] "FCTABLE_D10m_201902_00.sqlite"  "FCTABLE_D10m_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [19] "FCTABLE_D10m_201902_12.sqlite"  "FCTABLE_D10m_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [21] "FCTABLE_DDP1_201902_00.sqlite"  "FCTABLE_DDP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [23] "FCTABLE_DDP1_201902_12.sqlite"  "FCTABLE_DDP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [25] "FCTABLE_DDP2_201902_00.sqlite"  "FCTABLE_DDP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [27] "FCTABLE_DDP2_201902_12.sqlite"  "FCTABLE_DDP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [29] "FCTABLE_FFP1_201902_00.sqlite"  "FCTABLE_FFP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [31] "FCTABLE_FFP1_201902_12.sqlite"  "FCTABLE_FFP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [33] "FCTABLE_FFP2_201902_00.sqlite"  "FCTABLE_FFP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [35] "FCTABLE_FFP2_201902_12.sqlite"  "FCTABLE_FFP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [37] "FCTABLE_Gmax_201902_00.sqlite"  "FCTABLE_Gmax_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [39] "FCTABLE_Gmax_201902_12.sqlite"  "FCTABLE_Gmax_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [41] "FCTABLE_N75_201902_00.sqlite"   "FCTABLE_N75_201902_06.sqlite"  </span></span>
<span><span class="co">#&gt;  [43] "FCTABLE_N75_201902_12.sqlite"   "FCTABLE_N75_201902_18.sqlite"  </span></span>
<span><span class="co">#&gt;  [45] "FCTABLE_Pcp_201902_00.sqlite"   "FCTABLE_Pcp_201902_06.sqlite"  </span></span>
<span><span class="co">#&gt;  [47] "FCTABLE_Pcp_201902_12.sqlite"   "FCTABLE_Pcp_201902_18.sqlite"  </span></span>
<span><span class="co">#&gt;  [49] "FCTABLE_Pmsl_201902_00.sqlite"  "FCTABLE_Pmsl_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [51] "FCTABLE_Pmsl_201902_12.sqlite"  "FCTABLE_Pmsl_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [53] "FCTABLE_Ps_201902_00.sqlite"    "FCTABLE_Ps_201902_06.sqlite"   </span></span>
<span><span class="co">#&gt;  [55] "FCTABLE_Ps_201902_12.sqlite"    "FCTABLE_Ps_201902_18.sqlite"   </span></span>
<span><span class="co">#&gt;  [57] "FCTABLE_Q_201902_00.sqlite"     "FCTABLE_Q_201902_06.sqlite"    </span></span>
<span><span class="co">#&gt;  [59] "FCTABLE_Q_201902_12.sqlite"     "FCTABLE_Q_201902_18.sqlite"    </span></span>
<span><span class="co">#&gt;  [61] "FCTABLE_Q2m_201902_00.sqlite"   "FCTABLE_Q2m_201902_06.sqlite"  </span></span>
<span><span class="co">#&gt;  [63] "FCTABLE_Q2m_201902_12.sqlite"   "FCTABLE_Q2m_201902_18.sqlite"  </span></span>
<span><span class="co">#&gt;  [65] "FCTABLE_QQP1_201902_00.sqlite"  "FCTABLE_QQP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [67] "FCTABLE_QQP1_201902_12.sqlite"  "FCTABLE_QQP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [69] "FCTABLE_QQP2_201902_00.sqlite"  "FCTABLE_QQP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [71] "FCTABLE_QQP2_201902_12.sqlite"  "FCTABLE_QQP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [73] "FCTABLE_RH_201902_00.sqlite"    "FCTABLE_RH_201902_06.sqlite"   </span></span>
<span><span class="co">#&gt;  [75] "FCTABLE_RH_201902_12.sqlite"    "FCTABLE_RH_201902_18.sqlite"   </span></span>
<span><span class="co">#&gt;  [77] "FCTABLE_RH2m_201902_00.sqlite"  "FCTABLE_RH2m_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [79] "FCTABLE_RH2m_201902_12.sqlite"  "FCTABLE_RH2m_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [81] "FCTABLE_RHP1_201902_00.sqlite"  "FCTABLE_RHP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [83] "FCTABLE_RHP1_201902_12.sqlite"  "FCTABLE_RHP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [85] "FCTABLE_RHP2_201902_00.sqlite"  "FCTABLE_RHP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [87] "FCTABLE_RHP2_201902_12.sqlite"  "FCTABLE_RHP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [89] "FCTABLE_S_201902_00.sqlite"     "FCTABLE_S_201902_06.sqlite"    </span></span>
<span><span class="co">#&gt;  [91] "FCTABLE_S_201902_12.sqlite"     "FCTABLE_S_201902_18.sqlite"    </span></span>
<span><span class="co">#&gt;  [93] "FCTABLE_S10m_201902_00.sqlite"  "FCTABLE_S10m_201902_06.sqlite" </span></span>
<span><span class="co">#&gt;  [95] "FCTABLE_S10m_201902_12.sqlite"  "FCTABLE_S10m_201902_18.sqlite" </span></span>
<span><span class="co">#&gt;  [97] "FCTABLE_T_201902_00.sqlite"     "FCTABLE_T_201902_06.sqlite"    </span></span>
<span><span class="co">#&gt;  [99] "FCTABLE_T_201902_12.sqlite"     "FCTABLE_T_201902_18.sqlite"    </span></span>
<span><span class="co">#&gt; [101] "FCTABLE_T2m_201902_00.sqlite"   "FCTABLE_T2m_201902_06.sqlite"  </span></span>
<span><span class="co">#&gt; [103] "FCTABLE_T2m_201902_12.sqlite"   "FCTABLE_T2m_201902_18.sqlite"  </span></span>
<span><span class="co">#&gt; [105] "FCTABLE_Td_201902_00.sqlite"    "FCTABLE_Td_201902_06.sqlite"   </span></span>
<span><span class="co">#&gt; [107] "FCTABLE_Td_201902_12.sqlite"    "FCTABLE_Td_201902_18.sqlite"   </span></span>
<span><span class="co">#&gt; [109] "FCTABLE_Td2m_201902_00.sqlite"  "FCTABLE_Td2m_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [111] "FCTABLE_Td2m_201902_12.sqlite"  "FCTABLE_Td2m_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [113] "FCTABLE_TDP1_201902_00.sqlite"  "FCTABLE_TDP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [115] "FCTABLE_TDP1_201902_12.sqlite"  "FCTABLE_TDP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [117] "FCTABLE_TDP2_201902_00.sqlite"  "FCTABLE_TDP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [119] "FCTABLE_TDP2_201902_12.sqlite"  "FCTABLE_TDP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [121] "FCTABLE_Tmax_201902_00.sqlite"  "FCTABLE_Tmax_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [123] "FCTABLE_Tmax_201902_12.sqlite"  "FCTABLE_Tmax_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [125] "FCTABLE_Tmin_201902_00.sqlite"  "FCTABLE_Tmin_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [127] "FCTABLE_Tmin_201902_12.sqlite"  "FCTABLE_Tmin_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [129] "FCTABLE_TNP1_201902_00.sqlite"  "FCTABLE_TNP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [131] "FCTABLE_TNP1_201902_12.sqlite"  "FCTABLE_TNP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [133] "FCTABLE_TNP2_201902_00.sqlite"  "FCTABLE_TNP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [135] "FCTABLE_TNP2_201902_12.sqlite"  "FCTABLE_TNP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [137] "FCTABLE_TTP1_201902_00.sqlite"  "FCTABLE_TTP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [139] "FCTABLE_TTP1_201902_12.sqlite"  "FCTABLE_TTP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [141] "FCTABLE_TTP2_201902_00.sqlite"  "FCTABLE_TTP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [143] "FCTABLE_TTP2_201902_12.sqlite"  "FCTABLE_TTP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [145] "FCTABLE_TXP1_201902_00.sqlite"  "FCTABLE_TXP1_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [147] "FCTABLE_TXP1_201902_12.sqlite"  "FCTABLE_TXP1_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [149] "FCTABLE_TXP2_201902_00.sqlite"  "FCTABLE_TXP2_201902_06.sqlite" </span></span>
<span><span class="co">#&gt; [151] "FCTABLE_TXP2_201902_12.sqlite"  "FCTABLE_TXP2_201902_18.sqlite" </span></span>
<span><span class="co">#&gt; [153] "FCTABLE_vis_201902_00.sqlite"   "FCTABLE_vis_201902_06.sqlite"  </span></span>
<span><span class="co">#&gt; [155] "FCTABLE_vis_201902_12.sqlite"   "FCTABLE_vis_201902_18.sqlite"  </span></span>
<span><span class="co">#&gt; [157] "FCTABLE_Z_201902_00.sqlite"     "FCTABLE_Z_201902_06.sqlite"    </span></span>
<span><span class="co">#&gt; [159] "FCTABLE_Z_201902_12.sqlite"     "FCTABLE_Z_201902_18.sqlite"</span></span></code></pre>
<p>With the default template, you get a directory for each forecast
model and under that a directory for each year and then month. Each file
contains the data for one parameter for one forecast cycle for each
month.</p>
<p>You can then read in those data again using
<code><a href="../reference/read_point_forecast.html">read_point_forecast()</a></code>. Here you have to tell the function
whether you are reading ensemble (“eps”) or deterministic (“det”)
data.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_point_forecast.html">read_point_forecast</a></span><span class="op">(</span></span>
<span>  dttm       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/harpCore/man/seq_dttm.html" class="external-link">seq_dttm</a></span><span class="op">(</span><span class="fl">2019021700</span>, <span class="fl">2019021718</span>, <span class="st">"6h"</span><span class="op">)</span>,</span>
<span>  fcst_model <span class="op">=</span> <span class="st">"MEPS_prod"</span>, </span>
<span>  fcst_type  <span class="op">=</span> <span class="st">"eps"</span>,</span>
<span>  parameter  <span class="op">=</span> <span class="st">"T2m"</span>,</span>
<span>  lead_time  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  file_path  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"FCTABLE"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #00BB00;">::ensemble point forecast:: </span><span style="color: #949494;"># A tibble: 22,980 × 13</span></span></span>
<span><span class="co">#&gt;    fcst_model fcst_dttm           valid_dttm          lead_time   SID parameter</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>001 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>010 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>014 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>015 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>018 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>023 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>025 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>026 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>027 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>033 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22,970 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: MEPS_prod_mbr000 &lt;dbl&gt;, MEPS_prod_mbr001 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   MEPS_prod_mbr002 &lt;dbl&gt;, MEPS_prod_mbr003 &lt;dbl&gt;, fcst_cycle &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   model_elevation &lt;dbl&gt;, units &lt;chr&gt;</span></span></span></code></pre>
<p>By default, all members that are found are read in, but you call also
select which members you want with the <code>members</code>
argument:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_point_forecast.html">read_point_forecast</a></span><span class="op">(</span></span>
<span>  dttm       <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/harpCore/man/seq_dttm.html" class="external-link">seq_dttm</a></span><span class="op">(</span><span class="fl">2019021700</span>, <span class="fl">2019021718</span>, <span class="st">"6h"</span><span class="op">)</span>,</span>
<span>  fcst_model <span class="op">=</span> <span class="st">"MEPS_prod"</span>, </span>
<span>  fcst_type  <span class="op">=</span> <span class="st">"eps"</span>,</span>
<span>  parameter  <span class="op">=</span> <span class="st">"T2m"</span>,</span>
<span>  lead_time  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">12</span>, <span class="fl">3</span><span class="op">)</span>,</span>
<span>  members    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  file_path  <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"FCTABLE"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #00BB00;">::ensemble point forecast:: </span><span style="color: #949494;"># A tibble: 22,980 × 11</span></span></span>
<span><span class="co">#&gt;    fcst_model fcst_dttm           valid_dttm          lead_time   SID parameter</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>001 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>010 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>014 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>015 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>018 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>023 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>025 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>026 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>027 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> MEPS_prod  2019-02-17 <span style="color: #949494;">00:00:00</span> 2019-02-17 <span style="color: #949494;">00:00:00</span>         0  <span style="text-decoration: underline;">1</span>033 T2m      </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 22,970 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 5 more variables: MEPS_prod_mbr000 &lt;dbl&gt;, MEPS_prod_mbr002 &lt;dbl&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   fcst_cycle &lt;chr&gt;, model_elevation &lt;dbl&gt;, units &lt;chr&gt;</span></span></span></code></pre>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Andrew Singleton, Alex Deckmyn.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
